---
layout: post
title: "[Error] javax.net.ssl.SSLException: closing inbound before receiving peer's close_notify"
categories:
  - Error
excerpt: " "
comments: true
share: true
tags:
  - Error
  - JSP
  - DB
date: 2020-10-02 T15:15:00-0:05:00
---

# 문제상황

```
** BEGIN NESTED EXCEPTION **

javax.net.ssl.SSLException
MESSAGE: closing inbound before receiving peer's close_notify

STACKTRACE:

javax.net.ssl.SSLException: closing inbound before receiving peer's close_notify
	at sun.security.ssl.Alert.createSSLException(Alert.java:133)
	at sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at sun.security.ssl.TransportContext.fatal(TransportContext.java:314)
	at sun.security.ssl.TransportContext.fatal(TransportContext.java:270)
	at sun.security.ssl.TransportContext.fatal(TransportContext.java:261)
	at sun.security.ssl.SSLSocketImpl.shutdownInput(SSLSocketImpl.java:656)
	at sun.security.ssl.SSLSocketImpl.shutdownInput(SSLSocketImpl.java:635)
	at com.mysql.jdbc.MysqlIO.quit(MysqlIO.java:2246)
	at com.mysql.jdbc.ConnectionImpl.realClose(ConnectionImpl.java:4236)
	at com.mysql.jdbc.ConnectionImpl.close(ConnectionImpl.java:1462)
	at kr.or.connect.todo.dao.TodoDao.getTodos(TodoDao.java:87)
	at kr.or.connect.todo.MainServlet.service(MainServlet.java:31)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:543)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:615)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:818)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1626)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)


** END NESTED EXCEPTION **
```

![](https://kimmy100b.github.io/assets/images/error/jsp/01-1.png){: .align-center}

# 문제확인

위 오류는 정확히 어떤 문제인지 모르겠으나 ㅠㅠ SSL부터 알아보려고 한다.<br>
SSL은 전송 계층 보안(TRansport Layer Security, TLS)으로 컴퓨터 네트워크에 통신 보안을 제공하기 위해 설계된 암호 규약이다. 클라이언트/서버 응용 프로그램이 네트워크로 통신을 하는 과정에서 도청, 간섭, 위조를 방지하기 위해서 설계되었다.

# 문제해결

```
private static String dburl = "jdbc:mysql://localhost:3306/exam";
```

DB가 있는 URL 뒤에 `?useSSL=false`를 붙어넣어준다.

```
private static String dburl = "jdbc:mysql://localhost:3306/exam?useSSL=false";
```

# 참고

- [HTTPS와 SSL 인증서](https://opentutorials.org/course/228/4894)
- [전송 계층 보안](https://ko.wikipedia.org/wiki/%EC%A0%84%EC%86%A1_%EA%B3%84%EC%B8%B5_%EB%B3%B4%EC%95%88)
- [Closing inbound before receiving peer's close_notify 예외 없애기](https://kikikimoong.tistory.com/entry/SpringBoot-Closing-inbound-before-receiving-peers-closenotify-%EC%98%88%EC%99%B8-%EC%97%86%EC%95%A0%EA%B8%B0)
